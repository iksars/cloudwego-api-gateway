<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<style>
    body{
        display: flex;
        flex-direction: row;
        justify-content: space-around;
        align-items: center;
    }

    form{
        display: flex;
        flex-direction: column;
    }

    input{
        width: 200px;
        height: 80px;
        border: 1px solid black;
        word-break: break-all;
    }
</style>

<body>
    <form>
        <label>Service Name:</label>
        <textarea name="serviceName" required></textarea>
        <br>
        <label>Content:</label>
        <textarea name="content" required></textarea>
        <br>
        <button type="submit" onclick="(event) => {
            event.preventDefault()
            IDLManage('Insert',0,1)
        }">Insert</button>
    </form>
    <form>
        <label>Service Name:</label>
        <textarea name="serviceName"></textarea>
        <br>
        <label>Content:</label>
        <textarea name="content" ></textarea>
        <br>
        <button type="submit" onclick="IDLManage('Update',2,3)">Update</button>
    </form>
    <form>
        <label>Service Name:</label>
        <textarea name="serviceName" ></textarea>
        <br>
        <label>Content:</label>
        <textarea name="content" ></textarea>
        <br>
        <button type="submit" onclick="IDLManage('Search',5,6)">Search</button>
    </form>
    <form>
        <label>Service Name:</label>
        <textarea name="serviceName"></textarea>
        <br>
        <br>
        <button type="submit" onclick="IDLManage('Delete',7,8)">Delete</button>
    </form>
</body>


<script>
    let formData = {
        type: String,
        serviceName: String,
        content: String,
    }

    document.querySelectorAll("form").forEach(i => {
        
    })

    function IDLManage(type,index1,index2) {
        let url = "128.0.0.1:8888/IDLManage"
        formData.type = type
        formData.serviceName = document.querySelectorAll("textarea").item(index1).value
        formData.content = document.querySelectorAll("textarea").item(index2).value
        document.querySelectorAll("textarea").item(index2).value = "asd"
        fetch(url,{
            method:"GET",
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData)
        }).then(
            res => {

            }
        ).catch(
            err => {
                console.log(err)
            }
        )
    }
</script>


</html>